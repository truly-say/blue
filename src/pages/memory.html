<!DOCTYPE html>
<html lang="ko">
<head>   
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blue Lam - Final Archive</title>
  <link rel="stylesheet" href="../styles/styles.css">
  <link rel="stylesheet" href="../styles/memory.css">
  <link rel="stylesheet" href="../styles/audio-footer.css">
  <link rel="stylesheet" href="../styles/date-restriction.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌊</text></svg>">
</head>
<body>
  <nav class="navbar">
    <a href="../../index.html" class="nav-logo" data-text="BLUE LAM">BLUE LAM</a>
    <div class="nav-controls">
      <div class="nav-time" id="current-datetime"></div>
      <div class="nav-danger-level" id="danger-level">ACCESSING ARCHIVES</div>
    </div>
  </nav>

  <!-- 아카이브 컨텐츠 -->
  <div class="archive-container" id="archiveContent">
    <div class="ocean-overlay">
      <div class="wave"></div>
      <div class="wave"></div>
      <div class="wave"></div>
    </div>
    
    <div class="floating-menu">
      <div class="menu-item active" data-section="0"></div>
      <div class="menu-item" data-section="1"></div>
      <div class="menu-item" data-section="2"></div>
      <div class="menu-item" data-section="3"></div>
      <div class="menu-item" data-section="4"></div>
      <div class="menu-item" data-section="5"></div>
    </div>

    <section class="section active" id="section0">
      <div class="section-content">
        <div class="terminal-window">
          <div class="terminal-header">ARCHIVE_SYSTEM_v2.5 > ACCESSING_RECORDS</div>
          <div class="terminal-content">
            <div class="terminal-text" id="terminalText0">[SYSTEM] 기록 보관소에 접속 중...
[SYSTEM] 최종 데이터 복호화 중...
[SYSTEM] 접근 권한 확인됨: BLUE LAM

>> 데이터 분석 결과:
- 총 인원: 15명
- 생존자: 12명
- 확인된 사망자: 3명

>> 추가 정보:
"모든 선택의 끝에서, 우리는 각자의 완성을 찾았다."</div>
            <span class="terminal-cursor"></span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="section1">
      <div class="section-content">
        <div class="terminal-window">
          <div class="terminal-header">ARCHIVE_SYSTEM_v2.5 > ANALYZING_AUDIO</div>
          <div class="terminal-content">
            <div class="terminal-text" id="terminalText1">>> 마지막 순간의 기록

[음성 데이터 #1]
시간: 2025-02-02 02:17:31
"우리가 선택한 길이야. 돌이킬 수 없어."

[음성 데이터 #2]
시간: 2025-02-02 02:45:12
"모두가 자신의 선택을 했어. 우리도..."

[음성 데이터 #3]
시간: 2025-02-02 03:14:27
[잡음] "...마지막으로 한 번만..." [잡음]

[음성 데이터 #4]
시간: 2025-02-02 03:15:00
[통신 두절]</div>
            <span class="terminal-cursor"></span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="section2">
      <div class="section-content">
        <div class="terminal-window">
          <div class="terminal-header">ARCHIVE_SYSTEM_v2.5 > ACCESSING_PROFILES</div>
          <div class="terminal-content">
            <div class="terminal-text" id="terminalText2">>> 생존자 데이터

[데이터 #1]
이름: ■■■
마지막 위치: 알 수 없음
상태: [데이터 손상]
메시지: "난 선택했어."

[데이터 #2]
이름: ■■■
마지막 위치: 알 수 없음
상태: [데이터 손상]
메시지: "이게 내 답이야."

[데이터 #3]
이름: ■■■
마지막 위치: 알 수 없음
상태: [데이터 손상]
메시지: "미안해, 모두."</div>
            <span class="terminal-cursor"></span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="section3">
      <div class="section-content">
        <div class="terminal-window">
          <div class="terminal-header">ARCHIVE_SYSTEM_v2.5 > ACCESSING_LOGS</div>
          <div class="terminal-content">
            <div class="terminal-text" id="terminalText3">>> 마지막 로그

[로그 #1]
"모든 게 계획대로야. 우리는 각자의 완성을 찾을 거야."

[로그 #2]
"14명 중 3명만이 살아남겠지만, 그게 우리의 선택이야."

[로그 #3]
"완벽한 청춘을 위해서라면..."

[로그 #4] - [통신 두절]
"이제 끝이야. 마지막으로 한 가지만 남았어..."</div>
            <span class="terminal-cursor"></span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="section4">
      <div class="section-content">
        <div class="terminal-window">
          <div class="terminal-header">ARCHIVE_SYSTEM_v2.5 > FINAL_RECORDS</div>
          <div class="terminal-content">
            <div class="terminal-text" id="terminalText4">>> 데이터 복구 완료

[최종 기록]
"우리는 모두 완벽해지고 싶었다.
각자의 방식으로, 각자의 선택으로.
어떤 이는 죽음을,
어떤 이는 도피를,
어떤 이는 침묵을 선택했다.

그리고 살아남은 우리는...
영원히 이 겨울을 기억할 것이다."

[시스템 메시지]
"이제 모든 기록이 봉인됩니다.
선청고등학교 14기의 이야기는
차가운 겨울 바다와 함께 잠들 것입니다."</div>
            <span class="terminal-cursor"></span>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="section5">
      <div class="section-content">
        <div class="terminal-window">
          <div class="terminal-header">ARCHIVE_SYSTEM_v2.5 > SYSTEM_SHUTDOWN</div>
          <div class="terminal-content">
            <div class="terminal-text" id="terminalText5">[ALERT] 시스템 종료 시퀀스 시작...

>> 마지막 메시지 수신:
"모든 기록이 삭제되었습니다.
이제 우리의 이야기는
겨울 바다에 묻힐 것입니다.

그리고 우리는...
새로운 시작을 기다립니다."

[연결 종료]
[시스템 종료 중...]
...</div>
            <span class="terminal-cursor"></span>
          </div>
        </div>
        <div class="final-message" id="finalMessage">To be continued in another winter...</div>
        <div class="secret-text" onclick="revealSecret()">01001100 01000001 01001101</div>
      </div>
    </section>
  </div>

  <!-- 오디오 푸터 -->
  <footer class="audio-footer">
    <div class="audio-title">Ocean Waves</div>
    <button id="wave-sound-play" class="media-btn">▶</button>
    <div class="controls-group">
      <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="50">
    </div>
  </footer>
  <script>
    // 페이지 로드 시 날짜 확인
    document.addEventListener('DOMContentLoaded', function() {
      // 열람 가능 날짜 설정
      const UNLOCK_DATE = new Date('2025-03-09T00:00:00'); // 2025년 3월 9일
      const currentDate = new Date();
      
      // 현재 날짜가 열람 가능 날짜보다 이전인지 확인
      if (currentDate < UNLOCK_DATE) {
        // 접근 제한 메시지 생성
        const restrictionMessage = document.createElement('div');
        restrictionMessage.className = 'access-restriction-message';
        restrictionMessage.innerHTML = `
          <div class="restriction-content">
            <h2>접근 제한</h2>
            <p>이 페이지는 2025년 3월 2일부터 열람이 가능합니다.</p>
            <button id="backButton">메인으로 돌아가기</button>
          </div>
        `;
        
        // 기존 컨텐츠 숨기기
        document.querySelector('.archive-container').style.display = 'none';
        document.querySelector('.audio-footer').style.display = 'none';
        
        // 메시지 표시
        document.body.appendChild(restrictionMessage);
        
        // 버튼 이벤트 리스너 추가
        document.getElementById('backButton').addEventListener('click', function() {
          window.location.href = '../../index.html';
        });
        
        // 애니메이션 효과를 위해 약간의 딜레이 후 표시
        setTimeout(() => {
          restrictionMessage.classList.add('visible');
        }, 10);
        
        // 기존 스크립트 실행 중단
        return;
      }
      
      // 날짜 확인 통과 시 기존 스크립트 계속 실행
      // 오디오 자동 재생 시도
      if (window.playWaveSound) {
        window.playWaveSound();
      }
      
      // 여기에 기존 초기화 로직 추가
    });
  </script>
  <script src="../scripts/status-config.js"></script>
  <script src="../scripts/audio.js"></script>
  <script src="../scripts/memory.js"></script>
</body>
</html>