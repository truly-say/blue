<!DOCTYPE html>
<html lang="ko">
<head>   
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blue Lam - Memory</title>
  <style id="base-styles">
    :root {
      --bg-color: #0a0a1a;
      --text-color: #e0e0ff;
      --accent-color: #4a90e2;
    }

    body {
      font-family: 'Arial', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      line-height: 1.6;
      overflow-x: hidden;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      perspective: 1000px;
    }

    .memory-fragment {
      background-color: rgba(74, 144, 226, 0.1);
      border-left: 4px solid var(--accent-color);
      margin: 20px 0;
      padding: 15px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .memory-fragment:hover {
      transform: translateX(10px) rotateY(5deg);
      background-color: rgba(74, 144, 226, 0.2);
    }

    .memory-fragment h3 {
      margin-top: 0;
      color: var(--accent-color);
    }

    .interactive-choice {
      display: none;
      margin-top: 15px;
      background-color: rgba(255, 255, 255, 0.05);
      padding: 10px;
    }

    .interactive-choice button {
      background-color: var(--accent-color);
      color: white;
      border: none;
      padding: 10px 15px;
      margin: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .interactive-choice button:hover {
      background-color: #6ab0ff;
    }
.memory-result {
      background-color: rgba(74, 144, 226, 0.15);
      padding: 15px;
      margin-top: 10px;
      display: none;
      border-left: 3px solid var(--accent-color);
    }
    .hidden {
      display: none;
    }
    .waves {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100px;
      background: linear-gradient(transparent, var(--bg-color));
      opacity: 0.3;
      z-index: -1;
    }
  </style>
</head>
<body>
  <div class="container" id="memories-container">
    <!-- Memory fragments will be dynamically inserted here -->
  </div>

  <div class="waves"></div>

  <script id="memory-template">
    const memoryData = [
      {
        id: 'departure-memory',
        title: '01. 출발의 순간',
        description: '우리는 명문 고등학교의 마지막 졸업생들. 수많은 기대와 열망, 그리고 알 수 없는 불안감이 우리를 감싸고 있었다. 버스는 천천히 학교를 떠나고 있었고, 뒤돌아보니 모든 것이 흐릿하게 느껴졌다.',
        question: '이 순간, 당신의 가장 강렬한 감정은?',
        choices: [
          { 
            text: '희망', 
            value: 'hope',
            result: '희망은 우리를 앞으로 밀어붙였다. 미래에 대한 기대, 새로운 시작에 대한 설렘이 가슴을 가득 채웠다.'
          },
          { 
            text: '두려움', 
            value: 'fear',
            result: '알 수 없는 미래에 대한 두려움이 등골을 오싹하게 했다. 우리는 서로를 바라보며 묵묵히 그 감정을 공유했다.'
          },
          { 
            text: '기대', 
            value: 'anticipation',
            result: '무언가 특별한 일이 일어날 것만 같은 예감. 우리의 마지막 여정이 시작되고 있었다.'
          }
        ]
      },
      {
        id: 'battle-memory',
        title: '02. 마지막 대결',
        description: '졸업 여행의 어둠. 오랫동안 숨겨온 갈등들이 서서히 수면 위로 드러나기 시작했다. 우리는 알고 있었다. 이것이 우리의 마지막 기회임을.',
        question: '당신은 어떤 선택을 하겠는가?',
        choices: [
          { 
            text: '협상', 
            value: 'negotiate',
            result: '대화를 선택했다. 서로의 상처와 아픔을 이해하려 노력했고, 그 순간 우리는 조금씩 가까워졌다.'
          },
          { 
            text: '대립', 
            value: 'conflict',
            result: '모든 감정을 쏟아부었다. 격렬한 충돌 속에서 우리의 진실된 모습들이 드러났다.'
          },
          { 
            text: '타협', 
            value: 'compromise',
            result: '서로 양보하고 이해하는 법을 배웠다. 완벽하지 않지만, 우리만의 방식으로 해결점을 찾아갔다.'
          }
        ]
      },
      {
        id: 'echo-memory',
        title: '03. 반향',
        description: '모든 것이 끝나가고 있었다. 우리는 서로 다른 길을 걷게 될 것이다. 하지만 이 순간, 우리는 하나였다.',
        question: '무엇이 가장 깊이 새겨졌나요?',
        choices: [
          { 
            text: '우정', 
            value: 'friendship',
            result: '고난과 시련을 함께 견뎌낸 우정. 우리는 서로의 상처와 약점을 알고 있었고, 그럼에도 불구하고 서로를 받아들였다.'
          },
          { 
            text: '갈등', 
            value: 'conflict',
            result: '우리를 만들어온 갈등들. 그 과정에서 우리는 성장했고, 서로를 이해하는 법을 배웠다.'
          },
          { 
            text: '변화', 
            value: 'transformation',
            result: '우리는 이제 다른 사람이 되었다. 이 여정은 우리를 영원히 변화시켰다.'
          }
        ]
      }
    ];

    function createMemoryFragment(memory) {
      const fragment = document.createElement('div');
      fragment.className = 'memory-fragment';
      fragment.id = memory.id;
      
      fragment.innerHTML = `
        <h3>${memory.title}</h3>
        <p>${memory.description}</p>
        <div class="interactive-choice" id="${memory.id}-choice">
          <p>${memory.question}</p>
          ${memory.choices.map(choice => 
            `<button onclick="selectChoice('${memory.id}', '${choice.value}')">${choice.text}</button>`
          ).join('')}
          <div class="memory-result" id="${memory.id}-result"></div>
        </div>
      `;

      return fragment;
    }

    function initializeMemories() {
      const container = document.getElementById('memories-container');
      memoryData.forEach(memory => {
        const fragment = createMemoryFragment(memory);
        container.appendChild(fragment);

        fragment.addEventListener('click', () => {
          const choiceDiv = fragment.querySelector('.interactive-choice');
          choiceDiv.style.display = choiceDiv.style.display === 'block' ? 'none' : 'block';
        });
      });
    }

    function selectChoice(memoryId, choice) {
      const memory = memoryData.find(m => m.id === memoryId);
      const selectedChoice = memory.choices.find(c => c.value === choice);
      
      const resultDiv = document.getElementById(`${memoryId}-result`);
      resultDiv.textContent = selectedChoice.result;
      resultDiv.style.display = 'block';

      // Disable further choices
      const choiceButtons = document.querySelectorAll(`#${memoryId}-choice button`);
      choiceButtons.forEach(button => button.disabled = true);

      console.log(`Memory: ${memoryId}, Choice: ${choice}`);
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', initializeMemories);
  </script>
</body>
</html>
