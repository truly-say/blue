<!DOCTYPE html>
<html lang="ko">
<head>   
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blue Lam - Memory</title>
  <style id="base-styles">
    :root {
      --bg-color: #0a0a1a;
      --text-color: #e0e0ff;
      --accent-color: #4a90e2;
    }
    .memory-fragment {
      background-color: rgba(74, 144, 226, 0.1);
      border-left: 4px solid var(--accent-color);
      margin: 20px 0;
      padding: 15px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .memory-fragment:hover {
      transform: translateX(10px) rotateY(5deg);
      background-color: rgba(74, 144, 226, 0.2);
    }

    .memory-fragment h3 {
      margin-top: 0;
      color: var(--accent-color);
    }

    .interactive-choice {
      display: none;
      margin-top: 15px;
      background-color: rgba(255, 255, 255, 0.05);
      padding: 10px;
    }

    .interactive-choice button {
      background-color: var(--accent-color);
      color: white;
      border: none;
      padding: 10px 15px;
      margin: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .interactive-choice button:hover {
      background-color: #6ab0ff;
    }
.memory-result {
      background-color: rgba(74, 144, 226, 0.15);
      padding: 15px;
      margin-top: 10px;
      display: none;
      border-left: 3px solid var(--accent-color);
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container" id="memories-container">
    <!-- Memory fragments will be dynamically inserted here -->
  </div>

  <div class="waves"></div>

  <script id="memory-template">
    const memoryData = [
      {
        id: 'departure-memory',
        title: '01. 타이틀',
        description: '대충 디스크립션 채우기 대충 디스크립션 채우기 대충 디스크립션 채우기 대충 디스크립션 채우기 대충 디스크립션 채우기',
        question: '질문 채우기 질문 채우기 질문 채우기 질문 채우기 질문 채우기',
        choices: [
          { 
            text: '텍스트', 
            value: 'value1',
            result: '결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 '
          },
          { 
            text: '텍스트', 
            value: 'value2',
            result: '결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 '
          },
          { 
            text: '텍스트', 
            value: 'value3',
            result: '결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 '
          }
        ]
      },
      {
        id: 'battle-memory',
        title: '02. 타이틀',
        description: '대충 디스크립션 채우기 대충 디스크립션 채우기 대충 디스크립션 채우기 대충 디스크립션 채우기 대충 디스크립션 채우기',
        question: '질문 채우기 질문 채우기 질문 채우기 질문 채우기 질문 채우기',
        choices: [
          { 
            text: '텍스트', 
            value: 'value1',
            result: '결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 '
          },
          { 
            text: '텍스트', 
            value: 'value2',
            result: '결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 '
          },
          { 
            text: '텍스트', 
            value: 'value3',
            result: '결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 결과값 '
          }
        ]
      }
    ];

    function createMemoryFragment(memory) {
      const fragment = document.createElement('div');
      fragment.className = 'memory-fragment';
      fragment.id = memory.id;
      
      fragment.innerHTML = `
        <h3>${memory.title}</h3>
        <p>${memory.description}</p>
        <div class="interactive-choice" id="${memory.id}-choice">
          <p>${memory.question}</p>
          ${memory.choices.map(choice => 
            `<button onclick="selectChoice('${memory.id}', '${choice.value}')">${choice.text}</button>`
          ).join('')}
          <div class="memory-result" id="${memory.id}-result"></div>
        </div>
      `;

      return fragment;
    }

    function initializeMemories() {
      const container = document.getElementById('memories-container');
      memoryData.forEach(memory => {
        const fragment = createMemoryFragment(memory);
        container.appendChild(fragment);

        fragment.addEventListener('click', () => {
          const choiceDiv = fragment.querySelector('.interactive-choice');
          choiceDiv.style.display = choiceDiv.style.display === 'block' ? 'none' : 'block';
        });
      });
    }

    function selectChoice(memoryId, choice) {
      const memory = memoryData.find(m => m.id === memoryId);
      const selectedChoice = memory.choices.find(c => c.value === choice);
      
      const resultDiv = document.getElementById(`${memoryId}-result`);
      resultDiv.textContent = selectedChoice.result;
      resultDiv.style.display = 'block';

      // Disable further choices
      const choiceButtons = document.querySelectorAll(`#${memoryId}-choice button`);
      choiceButtons.forEach(button => button.disabled = true);

      console.log(`Memory: ${memoryId}, Choice: ${choice}`);
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', initializeMemories);
  </script>
</body>
</html>
